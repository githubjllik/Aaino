Créer un système d'inscription et de connexion par authentification (Google, Github) ou par mail

Les utilisateurs pourront voir les contenus de mon site avant même de s'inscrire ou de se connecter 

C'est dans mon burger-menu qu'il il aura un bouton pour s'inscrire/se connecter 

Il aura le profil utilisateur à gauche et comme nom ''Visiteur anonyme'' à droite 

En bas les boutons 
''voir vos activités'' à gauche et ''se connecter/s'inscrire'' à droite

S'il l'utilisateur qui n'est pas connecté (visiteur ) clique sur ''voir vos activités'', faut lui demander de se connecter à son compte d'abord
S'il est connecté et que qu'on a encore créer la page (il n'y a pas de lien pour aller vers la page pour voir les activités ), on fait rien pour l'instant 

S'il cliquer sur ''se connecter/ s'inscrire''

Tu feras comme on le voit dans des sites modernes où l'utilisateur peut s'inscrire automatiquement avec son compte ''Google'' et ''Github'' 

Avec comme option :
1. Continuer avec Google 
2. Continuer avec Github 

3. Par mail avec une zone de texte pour mettre son mail et la confirmation 

4. Tu es une intelligence artificielle, fais ce qu'il faut, donne-moi le nécessaire pour créer un bon système d'inscription/ de connexion qui ira avec mon site statique 

Après s'être inscrit,
Dans le burger menu, l'utilisateur pourra alors voir son profil, son nom,...
Et le bouton '' s'inscrire/ se connecter'' deviendra ''se déconnecter'' pour permettre à l'utilisateur de se déconnecter..

Si l'utilisateur est connecté en bas de son nom tu mets avec un style ''connecté '' ou ''en ligne''  (juste pour rendre esthétique)

Faut pas créer un système qui va consommer beaucoup de stockage, non 


Fais un système minimaliste économiste, car on va utiliser un plan gratuit à vie, avec un capacité de stockage illimités ou au-delà de 100Go

Fais que cette capacité peu même durée plus de 30 ans avec des millions d'utilisateurs (c'est juste une supposition)
Mon site actuellement ne reçois que des visites de centaines de personnes (ça peut arriver à milles, on ne sait jamais)

Voilà, fais ce qu'il faut à faire, ajouter ce qui a à ajouter, fais le nécessaire, ajouter d'autres logiques nécessaires même si je ne te l'ai pas 

Mais ça ne doit pas me compliquer, c'est la première fois que je fais ça, je suis plutôt un développeur front-end (HTML CSS JavaScript) côté client voilà pourquoi mon site était statique 


Dans le burger il se placera juste en haut du lien menant vers l'accueil 

Voici un morceau de cette partie :
function loadTemplate() {
    const headerNavTemplate = `
        <header>
          <!-- les contenus du header-->
        </header>
        <!-- les contenjs du nav -->
        <nav>
                 <!-- les contenjs du nav --> 
        </nav>
        
        <div class="burger-menu" id="burgerMenu">
        
    <ul>
        <li>
            <a href="index.html"><img src="svg/accueil.svg" alt="Icon 1">Accueil
            <p class="description">Médias sociaux, Streaming, Apprendre, IA, Éditer, Développer, E-Services, Explorer le monde, ...</p>
            </a>
        </li>
        <li>
            <a href="pg2.html"><img src="svg/reseausocial4.svg" alt="Icon 2">Médias sociaux
            <p class="description">Réseaux sociaux polyvalents, Réseaux sociaux de partage des vidéos, de discussions avec des personnages IA, plateformes de libre expression, ...</p>
            </a>
        </li>
   .... autres pages (+15 pages listés avec des dsecriptons)
.....
Mon burger-menu,  vu qu'il est le même sur toutes mes pages au lieu de le répéter dans mes fichiers HMTL je l'avais mis dans mon fichier JavaScript nommé template.js où il apparaît automatiquement à sa bonne place 
Faut juste mettre le profil au-dessus de ul , je veux moi-même mettre avec le code que tu vas me donner 
Je t'ai juste préciser que c'est dans un fichier JavaScript pour éviter des confusions ou des erreurs 

Voici mes fichiers JavaScript comment je lis mes fichiers JavaScript à mes HTML :
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script src="common-elementss.js"></script>
<common-elements></common-elements>

<script src="template.js"></script>
<script src="script0.js"></script>
<script src="search.js"></script>
<script src="calendar-events.js"></script>
<script src="gallery-photos.js"></script>
    <script src="calendar.js"></script>
<script src="scripts.js"></script>
<script src="translation-service.js"></script>
<script src="auth.js"></script>
<script src="urlDisplay.js"></script>

Ça continue d'après le nombre de mes pages 

J'ai plus de 18 pages HTML 
Plus de 10 fichiers CSS 
Plus de 15 fichiers JavaScript 
Les tous sont dans la racine 


Mon site est hébergé actuellement sur Render  comme statique car c'est totalement gratuit à vie 
Et son repository se trouve dans mon Github, donc l'hébergement de mon site sur render est lié à mon Github, des modifications que j'effectue sur GITHUB se font automatiquement sur Render 

Trouve un aussi totalement gratuit à vie, qui me permettra d'ajouter à mon site statique, un système d'inscription et de connexion totalement gratuit à vie et sans aucun limitations, tout doit être parfait même si un jour mon site avait 1 millions d'utilisateurs avec le totalement gratuit à vie, sans aucun limitations

N'utilise pas FIREBASE 


Faut tout écrire je ne sais pas comment l'on fait, faut tout bien détaillés, tout bien expliqué à partir de zéro 

Faut tout expliquer s'il y'a des choses qui demande à écrire faut écrire comment on écrit

Je n'y connais rien, faut donc tout m'expliquer comme si j'étais un bébé 2 ans , étapes par étapes 

Faut écrire beaucoup et tout au complet 

Prends ton temps, ne te précipite pas


J'avais déjà essayé avec plusieurs méthodes mais qui ne faisait rien 

Il n'y a que les méthodes utilisant des liens des providers de supabase qui marchent mais faut bien prendre en compte la redirection en utilisant des liens directs des providers (faut que l'utilisateur retourne à la page où il était étant que utilisateur connecté et enregistré et il verra bien son nom et son profil et son statut ''connecté'' ) faut bien réfléchir sur ça,  trouver un moyen de génie qui fonctionnera avec un site statique comme le mien 

Voici le technique que j'avais utilisé mais qui ne faisait que me rédiger vers le lien direct du provider quand j'entrai mes données et que je cliquais pour me connecter il m'affiche une erreur même quand j'avais changé la redirection sur mon site (j'étais toujours pas connecté mais dans supabase je voyais mes comptes avec lesquels j'avais testé la connexion) :

    <div id="auth-section" class="hidden">
        <button class="boutonbg" onclick="signInWithProvider('google')">Se connecter avec Google</button>
        <button class="boutonbg" onclick="signInWithProvider('github')">Se connecter avec GitHub</button>
    </div>

JavaScript :
async function signInWithProvider(provider) {
    try {
        const { data, error } = await supabase.auth.signInWithOAuth({
            provider: provider,
            options: {
                redirectTo: window.location.origin // Ajoute l'URL de redirection
            }
        });
        
        if (error) throw error;
        
        // Vérifie si nous sommes sur la page de redirection
        const hash = window.location.hash;
        if (hash && hash.includes('access_token')) {
            // Récupère la session après la redirection
            const { data: { session }, error: sessionError } = await supabase.auth.getSession();
            if (sessionError) throw sessionError;
            
            if (session) {
                currentUser = session.user;
                document.getElementById('auth-section').classList.add('hidden');
                showSuccessMessage('Connexion réussie !');
                return session;
            }
        }
        
        return data;
    } catch (error) {
        console.error('Erreur d\'authentification:', error);
        showErrorMessage('Erreur d\'authentification: ' + error.message);
    }
}

L'autre Javascript modifié mais qui ne résoudrait toujours pas le problème :
async function signInWithProvider(provider) {
  try {
    const lastPage = localStorage.getItem('lastVisitedPage');
    const { data, error } = await supabase.auth.signInWithOAuth({
      provider: provider,
      options: {
        redirectTo: window.location.origin + (lastPage || '/')
      }
    });
    
    if (error) throw error;
    return data;
  } catch (error) {
    console.error('Erreur d\'authentification:', error);
    showErrorMessage('Erreur d\'authentification: ' + error.message);
  }
}

Attention ceci avait plusieurs objectifs pas seulement la connexion etc..
Ce qui est bien et que le lien fonctionnait même en étant en local (navigateur)
Il avait aussi une base de données SQL,...
Ce n'est pas le code complet, juste la partie pour la connexion en utilisant des providers
Si ce n'est PAS nécessaire d'avoir une base de données faut me le préciser 
Je n'y connais rien au Backend, je ne l'ai jamais fait , faut être clair dans tout ce que tu vas me donner


Même dans supabase j'ignore beaucoup de choses faut donc m'expliquer étapes par étapes comment on fait surtout les redirections, ne néglige rien 

Faut tenir compte de tout ce que j'ai dit depuis le début 

J'ai déjà essayé des millions de méthodes qui n'ont pas marché qui refusaient de ne rien faire malgré que je cliquais sur le bouton pour se connecter des millions de fois 

Faut donc trouver une méthode beaucoup trop efficace qui marchera à 10000000000000000%
<div class="burger-menu" id="burgerMenu">
    <div class="user-profile" style="display: none;">
        <img class="user-avatar" src="default-avatar.png" alt="Profile">
        <div class="user-info">
            <span class="user-name">Visiteur anonyme</span>
            <span class="user-status"></span>
        </div>
    </div>
    
    <button class="auth-button">Se connecter/S'inscrire</button>
    <button class="view-activities" onclick="checkActivities()">Voir vos activités</button>
    
    <ul>
        <li>
            <a href="index.html">
                <img src="svg/accueil.svg" alt="Icon 1">Accueil
                <p class="description">Médias sociaux, Streaming, Apprendre, IA, Éditer, Développer, E-Services, Explorer le monde, ...</p>
            </a>
        </li>
        <!-- Reste de votre menu -->
    </ul>
</div>
<div class="burger-menu" id="burgerMenu">
    <div class="user-profile" style="display: none;">
        <img class="user-avatar" src="default-avatar.png" alt="Profile">
        <div class="user-info">
            <span class="user-name">Visiteur anonyme</span>
            <span class="user-status"></span>
        </div>
    </div>
    
    <button class="auth-button" onclick="authManager.showAuthModal()">Se connecter/S'inscrire</button>
<button class="view-activities" onclick="authManager.checkActivities()">Voir vos activités</button>

    
    <ul>
        <li>
            <a href="index.html">
                <img src="svg/accueil.svg" alt="Icon 1">Accueil
                <p class="description">Médias sociaux, Streaming, Apprendre, IA, Éditer, Développer, E-Services, Explorer le monde, ...</p>
            </a>
        </li>
        <!-- Reste de votre menu -->
    </ul>
</div>
