Créer un système d'inscription et de connexion par authentification (Google, Github) ou par mail

Les utilisateurs pourront voir les contenus de mon site avant même de s'inscrire ou de se connecter 

C'est dans mon burger-menu qu'il il aura un bouton pour s'inscrire/se connecter 

Il aura le profil utilisateur à gauche et comme nom ''Visiteur anonyme'' à droite 

En bas les boutons 
''voir vos activités'' à gauche et ''se connecter/s'inscrire'' à droite

S'il l'utilisateur qui n'est pas connecté (visiteur ) clique sur ''voir vos activités'', faut lui demander de se connecter à son compte d'abord
S'il est connecté et que qu'on a encore créer la page (il n'y a pas de lien pour aller vers la page pour voir les activités ), on fait rien pour l'instant 

S'il cliquer sur ''se connecter/ s'inscrire''

Tu feras comme on le voit dans des sites modernes où l'utilisateur peut s'inscrire automatiquement avec son compte ''Google'' et ''Github'' 

Avec comme option :
1. Continuer avec Google 
2. Continuer avec Github 

3. Par mail avec une zone de texte pour mettre son mail et la confirmation 

4. Tu es une intelligence artificielle, fais ce qu'il faut, donne-moi le nécessaire pour créer un bon système d'inscription/ de connexion qui ira avec mon site statique 

Après s'être inscrit,
Dans le burger menu, l'utilisateur pourra alors voir son profil, son nom,...
Et le bouton '' s'inscrire/ se connecter'' deviendra ''se déconnecter'' pour permettre à l'utilisateur de se déconnecter..

Si l'utilisateur est connecté en bas de son nom tu mets avec un style ''connecté '' ou ''en ligne''  (juste pour rendre esthétique)

Faut pas créer un système qui va consommer beaucoup de stockage, non 


Fais un système minimaliste économiste, car on va utiliser un plan gratuit à vie, avec un capacité de stockage illimités ou au-delà de 100Go

Fais que cette capacité peu même durée plus de 30 ans avec des millions d'utilisateurs (c'est juste une supposition)
Mon site actuellement ne reçois que des visites de centaines de personnes (ça peut arriver à milles, on ne sait jamais)

Voilà, fais ce qu'il faut à faire, ajouter ce qui a à ajouter, fais le nécessaire, ajouter d'autres logiques nécessaires même si je ne te l'ai pas 

Mais ça ne doit pas me compliquer, c'est la première fois que je fais ça, je suis plutôt un développeur front-end (HTML CSS JavaScript) côté client voilà pourquoi mon site était statique 


Dans le burger il se placera juste en haut du lien menant vers l'accueil 

Voici un morceau de cette partie :

        <div class="burger-menu" id="burgerMenu">
        
    <ul>
        <li>
            <a href="index.html"><img src="svg/accueil.svg" alt="Icon 1">Accueil
            <p class="description">Médias sociaux, Streaming, Apprendre, IA, Éditer, Développer, E-Services, Explorer le monde, ...</p>
            </a>
        </li>

C'est dans un fichier JavaScript mais on peut toujours ajouter d'autres éléments HTML dans le div et vont bien apparaître, je l'ai déjà essayé 

Voici mes fichiers JavaScript comment je lis mes fichiers JavaScript à mes HTML :
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script src="common-elementss.js"></script>
<common-elements></common-elements>

<script src="template.js"></script>
<script src="script0.js"></script>
<script src="search.js"></script>
<script src="calendar-events.js"></script>
<script src="gallery-photos.js"></script>
    <script src="calendar.js"></script>
<script src="scripts.js"></script>
<script src="translation-service.js"></script>
<script src="auth.js"></script>
<script src="urlDisplay.js"></script>

Ça continue d'après le nombre de mes pages 

J'ai plus de 18 pages HTML 
Plus de 10 fichiers CSS 
Plus de 15 fichiers JavaScript 
Les tous sont dans la racine 


Mon site est hébergé actuellement sur Render  comme statique car c'est totalement gratuit à vie 
Et son repository se trouve dans mon Github, donc l'hébergement de mon site sur render est lié à mon Github, des modifications que j'effectue sur GITHUB se font automatiquement sur Render 

Trouve un aussi totalement gratuit à vie, qui me permettra d'ajouter à mon site statique, un système d'inscription et de connexion totalement gratuit à vie et sans aucun limitations, tout doit être parfait même si un jour mon site avait 1 millions d'utilisateurs avec le totalement gratuit à vie, sans aucun limitations

N'utilise pas FIREBASE 


Faut tout écrire je ne sais pas comment l'on fait, faut tout bien détaillés, tout bien expliqué à partir de zéro 

Faut tout expliquer s'il y'a des choses qui demande à écrire faut écrire comment on écrit

Je n'y connais rien, faut donc tout m'expliquer comme si j'étais un bébé 2 ans , étapes par étapes 

Faut écrire beaucoup et tout au complet 

Prends ton temps, ne te précipite pas


J'avais déjà essayé avec plusieurs méthodes mais qui ne faisait rien 

Il n'y a que les méthodes utilisant des liens des providers de supabase qui marchent mais faut bien prendre en compte la redirection en utilisant des liens directs des providers (faut que l'utilisateur retourne à la page où il était étant que utilisateur connecté et enregistré et il verra bien son nom et son profil et son statut ''connecté'' ) faut bien réfléchir sur ça,  trouver un moyen de génie qui fonctionnera avec un site statique comme le mien 

Voici le technique que j'avais utilisé mais qui ne faisait que me rédiger vers le lien direct du provider quand j'entrai mes données et que je cliquais pour me connecter il m'affiche une erreur même quand j'avais changé la redirection sur mon site (j'étais toujours pas connecté mais dans supabase je voyais mes comptes avec lesquels j'avais testé la connexion) :

    <div id="auth-section" class="hidden">
        <button class="boutonbg" onclick="signInWithProvider('google')">Se connecter avec Google</button>
        <button class="boutonbg" onclick="signInWithProvider('github')">Se connecter avec GitHub</button>
    </div>

JavaScript :
const SUPABASE_URL = 'https://hfdstpfqtxajyhdqognf.supabase.co'
const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmZHN0cGZxdHhhanloZHFvZ25mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI0NDIwMDYsImV4cCI6MjA0ODAxODAwNn0.HmvO99_hh184LG9rOKTrT_79NxnEBfh468iFN7QgDVg'
const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY)

let currentUser = null;
let currentStep = 1;
const totalSteps = 5;

function showPublishForm() {
    console.log("Affichage du formulaire de publication...");
    if (!currentUser) {
        document.getElementById('auth-section').classList.remove('hidden');
        showErrorMessage('Veuillez vous connecter pour publier un site');
        return;
    }
    
    const existingForm = document.querySelector('.publish-form');
    if (existingForm) {
        existingForm.remove();
    }
    
    const form = document.createElement('div');
    form.className = 'publish-form';
    form.innerHTML = `
    
    `;
    
    document.body.appendChild(form);
    
    initFormHandlers();
    initImageHandler();
    initContactsHandler();
    initSectionHandler();
    
    const titleInput = document.getElementById('siteTitle');
    const descInput = document.getElementById('siteDescription');
    
    titleInput.addEventListener('input', function() {
        this.parentElement.querySelector('.char-counter span').textContent = this.value.length;
    });
    
    descInput.addEventListener('input', function() {
        this.parentElement.querySelector('.char-counter span').textContent = this.value.length;
    });
}

function initFormHandlers() {
    const nextButton = document.getElementById('nextStep');
    const prevButton = document.getElementById('prevStep');
    const publishButton = document.getElementById('publishButton');

    nextButton.onclick = () => {
        if (validateCurrentStep()) {
            if (currentStep < totalSteps) {
                document.getElementById(`step${currentStep}`).classList.add('hidden');
                currentStep++;
                document.getElementById(`step${currentStep}`).classList.remove('hidden');
                prevButton.classList.remove('hidden');
                
                if (currentStep === totalSteps) {
                    nextButton.classList.add('hidden');
                    publishButton.classList.remove('hidden');
                }
            }
        }
    };

    prevButton.onclick = () => {
        if (currentStep > 1) {
            document.getElementById(`step${currentStep}`).classList.add('hidden');
            currentStep--;
            document.getElementById(`step${currentStep}`).classList.remove('hidden');
            
            if (currentStep === 1) {
                prevButton.classList.add('hidden');
            }
            
            nextButton.classList.remove('hidden');
            publishButton.classList.add('hidden');
        }
    };

    publishButton.onclick = publishSite;
}

async function checkAuthState() {
    console.log("Vérification de l'état d'authentification...");
    const { data: { user }, error } = await supabase.auth.getUser();
    console.log("Utilisateur:", user);
    if (user) {
        currentUser = user;
        document.getElementById('auth-section').classList.add('hidden');
        console.log("Utilisateur connecté");
    } else {
        document.getElementById('auth-section').classList.remove('hidden');
        console.log("Utilisateur non connecté");
    }
}

async function signInWithProvider(provider) {
    try {
        const { data, error } = await supabase.auth.signInWithOAuth({
            provider: provider,
            options: {
                redirectTo: window.location.origin // Ajoute l'URL de redirection
            }
        });
        
        if (error) throw error;
        
        // Vérifie si nous sommes sur la page de redirection
        const hash = window.location.hash;
        if (hash && hash.includes('access_token')) {
            // Récupère la session après la redirection
            const { data: { session }, error: sessionError } = await supabase.auth.getSession();
            if (sessionError) throw sessionError;
            
            if (session) {
                currentUser = session.user;
                document.getElementById('auth-section').classList.add('hidden');
                showSuccessMessage('Connexion réussie !');
                return session;
            }
        }
        
        return data;
    } catch (error) {
        console.error('Erreur d\'authentification:', error);
        showErrorMessage('Erreur d\'authentification: ' + error.message);
    }
}

// Ajoutons également une vérification au chargement de la page
document.addEventListener('DOMContentLoaded', async () => {
    console.log("Page chargée, initialisation...");
    
    // Vérifie si nous revenons d'une authentification
    const hash = window.location.hash;
    if (hash && hash.includes('access_token')) {
        const { data: { session }, error } = await supabase.auth.getSession();
        if (session && !error) {
            currentUser = session.user;
            document.getElementById('auth-section').classList.add('hidden');
            showSuccessMessage('Connexion réussie !');
            window.history.replaceState({}, document.title, window.location.pathname);
        }
    }
    
    createPublishButton();
    await checkAuthState();
});

ça c'était dans le head:
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>


Ce qui est bien et que le lien fonctionnait même en étant en local (navigateur)
Il avait aussi une base de données SQL,...
Ce n'est pas le code complet, juste la partie pour la connexion en utilisant des providers
Si ce n'est PAS nécessaire d'avoir une base de données faut me le préciser 
Je n'y connais rien au Backend, je ne l'ai jamais fait , faut être clair dans tout ce que tu vas me donner


Même dans supabase j'ignore beaucoup de choses faut donc m'expliquer étapes par étapes comment on fait surtout les redirections, ne néglige rien 

Faut tenir compte de tout ce que j'ai dit depuis le début 

voici mes nouveaux clés de mon projet supabase crée:
Project API
Your API is secured behind an API gateway which requires an API Key for every request.
You can use the parameters below to use Supabase client libraries.

Project URL
https://cfisapjgzfdpwejkjcek.supabase.co

Copy
A RESTful endpoint for querying and managing your database.
API Key

anon
public
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNmaXNhcGpnemZkcHdlamtqY2VrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI3MjI1MjIsImV4cCI6MjA0ODI5ODUyMn0.s9rW3qacaJfksz0B2GeW46OF59-1xA27eDhSTzTCn_8

Copy
This key is safe to use in a browser if you have enabled Row Level Security (RLS) for your tables and configured policies. You may also use the service key which can be found here to bypass RLS.

Javascript
Dart
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = 'https://cfisapjgzfdpwejkjcek.supabase.co'
const supabaseKey = process.env.SUPABASE_KEY
const supabase = createClient(supabaseUrl, supabaseKey)

J'ai déjà essayé des millions de méthodes qui n'ont pas marché qui refusaient de ne rien faire malgré que je cliquais sur le bouton pour se connecter des millions de fois 

Faut donc trouver une méthode beaucoup trop efficace qui marchera à 10000000000000000%



Écrit tout dans un seul message message, sans suite, tu dois tout donner , tout écrire de la tête au pied sans suite vu que tu dois tout me donner à la fois , sans restes, tout doit être déjà là bien détaillés, bien expliqués , pas d'explication en l'air, faut bien tout expliquer avec ce qu'il faut pour faire la chose expliquer 
Tout dans un message de la tête au pied de façon à ce qu'il n'y ait plus rien à expliquer vu que tu vas tout me donner à la fois